<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>XStore | WebApp</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Vue.js 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#6200EE', 
                        primaryDark: '#3700B3',
                        secondary: '#03DAC6',
                        darkBg: '#121212',
                        darkSurface: '#1E1E1E',
                    }
                }
            }
        }
    </script>
</head>
<body class="text-gray-800 h-screen flex flex-col overflow-hidden bg-gray-100 dark:bg-darkBg dark:text-gray-100 transition-colors duration-300">

    <div id="app" class="flex flex-col h-full relative">

        <!-- HEADER -->
        <header class=" shadow-sm z-10 flex-none transition-all duration-300" :class="{ 'h-0 overflow-hidden opacity-0': currentView === 'home' }">
            <div class="px-4 py-3 flex items-center justify-between h-16">
                <div class="flex items-center gap-3">
                    <button @click="goBack" v-if="currentView === 'detail'" class="p-2 rounded-full hover:bg-white/20 focus:outline-none">
                        <i class="fas fa-arrow-left text-lg"></i>
                    </button>
                    <h1 class="text-xl font-medium tracking-wide">{{ pageTitle }}</h1>
                </div>
                <div class="p-2">
                    <i class="fas fa-search text-lg opacity-80 cursor-pointer"></i>
                </div>
            </div>
        </header>

        <!-- LOGIN BANNER (Visible only on Profile if NOT logged in) -->
        <div v-if="currentTab === 'profile' && !isLoggedIn" class="bg-blue-600 text-white p-3 flex justify-between items-center shadow-md z-10 animate-pulse">
            <span class="text-sm font-medium"><i class="fas fa-user-circle mr-2"></i> Sign in to sync your apps</span>
            <button @click="login" class="bg-white text-blue-600 px-3 py-1 rounded-full text-xs font-bold hover:bg-gray-100">LOGIN</button>
        </div>

        <!-- MAIN CONTENT -->
        <main class="flex-1 overflow-y-auto no-scrollbar bg-background pb-20 relative transition-colors duration-300"
              :class="isDark ? 'bg-darkBg' : 'bg-gray-100'">
            
            <transition name="fade" mode="out-in">
                
                <!-- VIEW: HOME -->
                <div v-if="currentView === 'home'" key="home" class="space-y-6">
                    
                    <!-- HERO CAROUSEL -->
                    <div class="relative w-full h-56 overflow-hidden shadow-lg">
                        <transition name="carousel">
                            <div v-if="currentCarouselIndex !== null" :key="carouselApps[currentCarouselIndex].id" 
                                 class="absolute inset-0 cursor-pointer" @click="openApp(carouselApps[currentCarouselIndex])">
                                <img :src="carouselApps[currentCarouselIndex].icon" class="w-full h-full object-cover">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"></div>
                                <div class="absolute bottom-0 left-0 p-5">
                                    <span class="bg-secondary text-primary text-xs font-bold px-2 py-0.5 rounded mb-2 inline-block shadow-sm">Featured</span>
                                    <h2 class="text-white text-2xl font-bold leading-tight shadow-black drop-shadow-md">{{ carouselApps[currentCarouselIndex].name }}</h2>
                                    <p class="text-gray-200 text-sm mt-1">{{ carouselApps[currentCarouselIndex].developer }}</p>
                                </div>
                            </div>
                        </transition>
                        
                        <div class="absolute bottom-4 right-4 flex gap-2">
                            <span v-for="(app, index) in carouselApps" :key="index" 
                                  class="w-2 h-2 rounded-full transition-all duration-300"
                                  :class="currentCarouselIndex === index ? 'bg-white w-6' : 'bg-white/50'"></span>
                        </div>
                    </div>

                    <div class="px-4 space-y-6">
                        <!-- Categories -->
                        <section>
                            <div class="flex justify-between items-center mb-3">
                                <h3 class="text-lg font-medium text-gray-700 dark:text-gray-200">Categories</h3>
                            </div>
                            <div class="flex gap-3 overflow-x-auto no-scrollbar pb-2">
                                <button v-for="cat in categories" :key="cat" 
                                    class="flex-none bg-white dark:bg-darkSurface px-4 py-2 rounded-full shadow-sm text-sm font-medium text-gray-600 dark:text-gray-300 border border-gray-100 dark:border-gray-700 hover:border-primary hover:text-primary transition-colors theme-transition">
                                    {{ cat }}
                                </button>
                            </div>
                        </section>

                        <!-- Top Charts -->
                        <section>
                            <div class="flex justify-between items-center mb-3">
                                <h3 class="text-lg font-medium text-gray-700 dark:text-gray-200">Top Charts</h3>
                            </div>
                            <div class="bg-white dark:bg-darkSurface rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 overflow-hidden theme-transition">
                                <div v-for="(app, index) in topApps" :key="app.id" 
                                    @click="openApp(app)"
                                    class="flex items-center p-3 border-b border-gray-50 dark:border-gray-700 last:border-0 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer theme-transition">
                                    <span class="text-gray-400 font-bold w-6 text-center mr-2">{{ index + 1 }}</span>
                                    <img :src="app.icon" class="w-12 h-12 rounded-xl object-cover shadow-sm">
                                    <div class="ml-3 flex-1 min-w-0">
                                        <h4 class="font-medium text-gray-900 dark:text-gray-100 truncate">{{ app.name }}</h4>
                                        <p class="text-xs text-gray-500 dark:text-gray-400 truncate">{{ app.category }}</p>
                                    </div>
                                    <button class="px-3 py-1.5 bg-blue-100 text-blue-600 rounded-full text-xs font-semibold">GET</button>
                                </div>
                            </div>
                        </section>

                        <!-- All Apps Section -->
                        <section>
                            <div class="flex justify-between items-center mb-3">
                                <h3 class="text-lg font-medium text-gray-700 dark:text-gray-200">All Apps</h3>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div v-for="app in allApps" :key="app.id" 
                                     @click="openApp(app)"
                                     class="bg-white dark:bg-darkSurface p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-800 flex flex-col items-center text-center hover:shadow-md transition-shadow cursor-pointer theme-transition">
                                    <img :src="app.icon" class="w-16 h-16 rounded-2xl object-cover mb-3">
                                    <h4 class="font-medium text-gray-900 dark:text-gray-100 text-sm truncate w-full">{{ app.name }}</h4>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 truncate w-full">{{ app.developer }}</p>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>

                <!-- VIEW: APP DETAIL -->
                <div v-else-if="currentView === 'detail'" key="detail" class="bg-white dark:bg-darkSurface min-h-full theme-transition">
                    <div v-if="selectedApp">
                        <div class="p-6 flex flex-col items-center text-center border-b border-gray-100 dark:border-gray-700 theme-transition">
                            <img :src="selectedApp.icon" class="w-24 h-24 rounded-2xl shadow-lg mb-4 object-cover">
                            <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-1">{{ selectedApp.name }}</h2>
                            <p class="text-primary text-sm font-medium mb-2">{{ selectedApp.developer }}</p>
                            <div class="flex items-center gap-4 text-sm text-gray-600 dark:text-gray-300 mb-6">
                                <span class="flex items-center gap-1"><i class="fas fa-star text-yellow-400"></i> {{ selectedApp.rating }}</span>
                                <span class="text-gray-300 dark:text-gray-600">|</span>
                                <span>{{ selectedApp.size }}</span>
                            </div>
                            <a :href="selectedApp.link" target="_blank" class="w-full max-w-xs py-3 bg-primary hover:bg-primaryDark text-white rounded-xl font-bold shadow-lg shadow-purple-500/30 transition-all flex items-center justify-center gap-2">
                                <i class="fas fa-download"></i> Install
                            </a>
                        </div>
                        <div class="p-6">
                            <h3 class="font-bold text-gray-900 dark:text-gray-100 mb-2">Description</h3>
                            <p class="text-gray-600 dark:text-gray-300 leading-relaxed text-sm">{{ selectedApp.description }}</p>
                        </div>
                    </div>
                </div>

                <!-- VIEW: SEARCH -->
                <div v-else-if="currentView === 'search'" key="search" class="p-4 min-h-full">
                    <div class="relative mb-6 sticky top-0 z-20 py-2 transition-colors duration-300"
                         :class="isDark ? 'bg-darkBg' : 'bg-gray-100'">
                        <i class="fas fa-search absolute left-4 top-3.5 text-gray-400"></i>
                        <input type="text" v-model="searchQuery" placeholder="Search apps..." 
                            class="w-full bg-white dark:bg-darkSurface border-none py-3 pl-12 pr-4 rounded-xl shadow-sm text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-primary outline-none theme-transition">
                    </div>
                    
                    <div class="pb-10">
                        <!-- Results -->
                        <div v-if="searchQuery">
                            <h3 class="text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">Results</h3>
                            <div class="space-y-3">
                                <div v-for="app in filteredApps" :key="app.id" @click="openApp(app)" 
                                     class="bg-white dark:bg-darkSurface p-3 rounded-xl flex items-center gap-3 shadow-sm cursor-pointer hover:shadow-md transition-shadow theme-transition">
                                    <img :src="app.icon" class="w-12 h-12 rounded-lg">
                                    <div>
                                        <h4 class="font-bold text-gray-900 dark:text-gray-100">{{ app.name }}</h4>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">{{ app.developer }}</p>
                                    </div>
                                </div>
                            </div>
                            <div v-if="filteredApps.length === 0" class="text-center py-10 text-gray-400">
                                No apps found.
                            </div>
                        </div>

                        <!-- Suggestions -->
                        <div v-else>
                            <h3 class="text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">Explore Categories</h3>
                            <div class="grid grid-cols-2 gap-3 mb-6">
                                <div v-for="suggestion in suggestions" :key="suggestion" 
                                     class="bg-white dark:bg-darkSurface p-4 rounded-xl shadow-sm text-center font-medium text-gray-700 dark:text-gray-200 border border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 theme-transition">
                                    {{ suggestion }}
                                </div>
                            </div>

                            <h3 class="text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3">Popular Searches</h3>
                            <div class="flex flex-wrap gap-2">
                                <span v-for="tag in popularTags" :key="tag" 
                                      @click="searchQuery = tag"
                                      class="px-3 py-1.5 bg-white dark:bg-darkSurface rounded-full text-sm text-gray-600 dark:text-gray-300 shadow-sm border border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 theme-transition">
                                    {{ tag }}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- VIEW: PROFILE -->
                <div v-else-if="currentView === 'profile'" key="profile" class="p-4">
                    
                    <!-- User Info Card -->
                    <div class="bg-white dark:bg-darkSurface rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 p-6 mb-6 flex flex-col items-center theme-transition">
                        
                        <!-- Avatar -->
                        <div class="w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-3xl text-gray-500 mb-3 shadow-inner">
                            <i v-if="!isLoggedIn" class="fas fa-user"></i>
                            <img v-else src="https://picsum.photos/seed/user1/200/200" class="w-full h-full rounded-full object-cover">
                        </div>

                        <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-1">
                            {{ isLoggedIn ? 'Alex Johnson' : 'Guest User' }}
                        </h2>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">
                            {{ isLoggedIn ? 'alex.j@example.com' : 'Sign in to access features' }}
                        </p>

                        <button v-if="isLoggedIn" @click="logout" class="w-full py-2 border border-red-500 text-red-500 rounded-xl font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors">
                            Log Out
                        </button>
                    </div>

                    <!-- Settings / Theme Section -->
                    <div class="space-y-4">
                        <h3 class="text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider px-1">Settings</h3>
                        
                        <!-- Theme Card -->
                        <div class="bg-white dark:bg-darkSurface rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 overflow-hidden theme-transition">
                            <div class="p-4 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 flex items-center justify-center">
                                        <i class="fas fa-palette"></i>
                                    </div>
                                    <span class="font-medium text-gray-800 dark:text-gray-200">Theme</span>
                                </div>
                            </div>
                            <div class="p-4 grid grid-cols-3 gap-3">
                                <button @click="setTheme('light')" 
                                    class="flex flex-col items-center gap-2 p-3 rounded-xl border transition-all"
                                    :class="currentTheme === 'light' ? 'border-primary bg-blue-50 dark:bg-primary/10' : 'border-gray-200 dark:border-gray-700'">
                                    <i class="fas fa-sun text-xl" :class="currentTheme === 'light' ? 'text-orange-500' : 'text-gray-400'"></i>
                                    <span class="text-xs font-medium">Light</span>
                                </button>
                                
                                <button @click="setTheme('dark')" 
                                    class="flex flex-col items-center gap-2 p-3 rounded-xl border transition-all"
                                    :class="currentTheme === 'dark' ? 'border-primary bg-blue-50 dark:bg-primary/10' : 'border-gray-200 dark:border-gray-700'">
                                    <i class="fas fa-moon text-xl" :class="currentTheme === 'dark' ? 'text-indigo-400' : 'text-gray-400'"></i>
                                    <span class="text-xs font-medium">Dark</span>
                                </button>
                                
                                <button @click="setTheme('system')" 
                                    class="flex flex-col items-center gap-2 p-3 rounded-xl border transition-all"
                                    :class="currentTheme === 'system' ? 'border-primary bg-blue-50 dark:bg-primary/10' : 'border-gray-200 dark:border-gray-700'">
                                    <i class="fas fa-desktop text-xl" :class="currentTheme === 'system' ? 'text-green-500' : 'text-gray-400'"></i>
                                    <span class="text-xs font-medium">System</span>
                                </button>
                            </div>
                        </div>

                        <!-- Mock Settings Options -->
                        <div class="bg-white dark:bg-darkSurface rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 overflow-hidden theme-transition">
                            <div class="p-4 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700">
                                <div class="flex items-center gap-3">
                                    <i class="fas fa-bell text-gray-400 w-6 text-center"></i>
                                    <span class="text-gray-800 dark:text-gray-200">Notifications</span>
                                </div>
                                <i class="fas fa-chevron-right text-gray-400 text-xs"></i>
                            </div>
                            <div class="p-4 border-b border-gray-100 dark:border-gray-700 flex items-center justify-between cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700">
                                <div class="flex items-center gap-3">
                                    <i class="fas fa-globe text-gray-400 w-6 text-center"></i>
                                    <span class="text-gray-800 dark:text-gray-200">Language</span>
                                </div>
                                <i class="fas fa-chevron-right text-gray-400 text-xs"></i>
                            </div>
                            <div class="p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700">
                                <div class="flex items-center gap-3">
                                    <i class="fas fa-shield-alt text-gray-400 w-6 text-center"></i>
                                    <span class="text-gray-800 dark:text-gray-200">Privacy</span>
                                </div>
                                <i class="fas fa-chevron-right text-gray-400 text-xs"></i>
                            </div>
                        </div>
                    </div>
                </div>

            </transition>
        </main>

        <!-- BOTTOM TAB NAVIGATION -->
        <nav class="bg-white dark:bg-darkSurface border-t border-gray-200 dark:border-gray-700 flex justify-around items-center h-16 pb-safe z-20 shadow-[0_-2px_10px_rgba(0,0,0,0.05)] theme-transition">
            <button v-for="tab in tabs" :key="tab.id" 
                @click="switchTab(tab.id)"
                class="flex flex-col items-center justify-center w-full h-full focus:outline-none transition-colors duration-200"
                :class="currentTab === tab.id ? 'text-primary' : 'text-gray-400'">
                
                <div class="p-1">
                    <i :class="[tab.icon, 'text-xl mb-1 transition-transform duration-200', currentTab === tab.id ? '-translate-y-1' : '']"></i>
                </div>
                <span class="text-[10px] font-medium tracking-wide">{{ tab.label }}</span>
            </button>
        </nav>

    </div>
    <script src="main.js" type="text/javascript" charset="utf-8"></script>
</body>
</html>